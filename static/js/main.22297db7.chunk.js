(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{15:function(t,e,n){t.exports={ModalBackdrop:"Modal_ModalBackdrop__3iFAG",ModalContent:"Modal_ModalContent__2V-8g"}},33:function(t,e,n){},34:function(t,e,n){},40:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(9),c=n.n(r),i=(n(33),n(27)),s=n(10),l=n(2),d=n(3),u=n(5),h=n(4),p=(n(34),n(11)),j=n(81),f=n(1),b=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={todos:t.props.todos},t.handleChange=function(e){var n=e.target,o=n.name,a=n.value,r=n.type,c=n.checked;t.setState(Object(p.a)({},o,"checkbox"===r?c:a)),console.log(t.state.checked)},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.todos,o=e.onDeleteTodo,a=n.length,r=n.filter((function(t){return t.completed})).length;return Object(f.jsxs)("div",{className:"TodoListWrapper",children:["TodoList:",Object(f.jsxs)("p",{children:["total : ",a," | \u2705 \u2192 ",r]}),Object(f.jsx)("ol",{children:n.map((function(e){var n=e.id,a=e.text,r=e.completed;return Object(f.jsxs)("li",{children:[Object(f.jsx)("input",{type:"checkbox",name:"completed",id:"",checked:r,onChange:function(){return t.props.toggleCompleted(n)}}),r?"\u2705":"\u26d4"," ",a,"\u2003",Object(f.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){return o(n)},children:"\u274c Delete"})]},n)}))})]})}}]),n}(o.Component);b.defaultProps={};var g=b,v=function(t){var e=t.filter,n=t.onChange;return Object(f.jsxs)("label",{children:["\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0438\u043c\u0435\u043d\u0438",Object(f.jsx)("input",{type:"text",value:e,onChange:n})]})};v.defaultProps={};var O=v,m=(n(40),"junior"),x="middle",y="senior",C={login:"",password:"",email:"",agreed:!1,level:null},S=(o.Component,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={text:""},t.handleChange=function(e){t.setState({text:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.text),t.setState({text:""})},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state.text;return Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsxs)("label",{children:["Add new todo",Object(f.jsx)("input",{type:"text",name:"text",value:t,placeholder:"Add new todo...",onChange:this.handleChange})]}),Object(f.jsx)("button",{type:"submit",children:"Add"})]})}}]),n}(o.PureComponent));S.defaultProps={};var k=S,w=n(15),M=n.n(w),A=document.querySelector("#modal-root"),D=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).handleKeyDown=function(e){"Escape"===e.code&&t.props.onClose()},t.handleBackdropClick=function(e){e.currentTarget===e.target&&t.props.onClose()},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(r.createPortal)(Object(f.jsx)("div",{className:M.a.ModalBackdrop,onClick:this.handleBackdropClick,children:Object(f.jsx)("div",{className:M.a.ModalContent,children:this.props.children})}),A)}}]),n}(o.PureComponent);D.defaultProps={};var L=D,N=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={url:"",title:""},t.handleClick=function(e){console.log("handleClick"),console.dir(e.target),t.setState({title:e.target.textContent,url:e.target.attributes.href.nodeValue})},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.props.articles;return Object(f.jsx)("div",{className:"ArticleListWrapper",children:Object(f.jsx)("ul",{children:e.map((function(e){var n=e.objectID,o=e.url,a=e.title;return Object(f.jsx)("li",{onClick:t.handleClick,children:Object(f.jsx)("a",{href:o,target:"_blank",rel:"noreferrer noopener",children:a})},n)}))})})}}]),n}(o.PureComponent);N.defaultProps={};var P=N,T=n(14),q=n.n(T),W={fetchArticlesWithQuery:function(t){return q.a.get("https://hn.algolia.com/api/v1/search?query=".concat(t)).then((function(t){return t.data.hits}))}},_=n(26),B=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={query:""},t.handleChange=function(e){t.setState({query:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),console.log(e.target.value),t.setState({query:e.target.value}),t.props.onSubmit(t.state.query),t.setState({query:""})},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props.onSubmit,e=this.state.query;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsxs)("label",{children:["\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0438\u043c\u0435\u043d\u0438",Object(f.jsx)("input",{type:"text",value:e,onChange:this.handleChange})]}),Object(f.jsx)("button",{type:"submit",children:"\ud83d\udd0d"})]})}}]),n}(o.PureComponent);B.defaultProps={};var I=B,E=n(25),J=n.n(E),R=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={articles:[],todos:[{id:"id-1",text:"\u0412\u044b\u0443\u0447\u0438\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u044b React",completed:!0},{id:"id-2",text:"\u0420\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0441 React Router",completed:!1},{id:"id-3",text:"\u041f\u0435\u0440\u0435\u0436\u0438\u0442\u044c Redux",completed:!1}],filter:"",showModal:!1,isLoading:!1,error:null,searching:""},t.deleteTodo=function(e){t.setState((function(t){return{todos:t.todos.filter((function(t){return t.id!==e}))}}))},t.onChange=function(e){console.log("filter",e.target.value),t.setState({filter:e.target.value})},t.handleSubmit=function(e){console.log("data",e),t.setState(Object(s.a)({},e))},t.addNewTodo=function(e){var n={id:J.a.generate(),text:e,completed:!1};t.state.todos;t.setState((function(t){var e=t.todos;return{todos:[n].concat(Object(i.a)(e))}})),t.toggleModal()},t.toggleCompleted=function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return t.id===e?Object(s.a)(Object(s.a)({},t),{},{completed:!t.completed}):t}))}}))},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t.articlesSearching=function(e){t.setState({searching:e})},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({isLoading:!0});this.state.searching;W.fetchArticlesWithQuery(this.state.searching).then((function(e){return t.setState({articles:e})})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({isLoading:!1})}));var e=localStorage.getItem("todos"),n=JSON.parse(e);n&&this.setState({todos:n})}},{key:"componentDidUpdate",value:function(t,e){var n=this;e.searching!==this.state.searching&&(console.log("changed"),W.fetchArticlesWithQuery(this.state.searching).then((function(t){return n.setState({articles:t})})).catch((function(t){return n.setState({error:t})})).finally((function(){return n.setState({isLoading:!1})}))),e.state!==this.state&&localStorage.setItem("todos",JSON.stringify(this.state.todos))}},{key:"componentWillUpdate",value:function(t,e){}},{key:"render",value:function(){var t=this.state,e=t.todos,n=(t.onChange,t.filter),o=t.showModal,a=(t.agreed,t.articles),r=t.isLoading,c=t.error,i=t.searching,s=e.filter((function(t){return t.text.toLowerCase().includes(n.toLowerCase())}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"App",children:["API",Object(f.jsx)(I,{searching:i,onSubmit:this.articlesSearching}),c&&Object(f.jsxs)("p",{children:["Whoops, something went wrong: ",c]}),r&&Object(f.jsx)(_.a,{}),a.length>0&&Object(f.jsx)(P,{articles:a})]}),Object(f.jsxs)("div",{className:"App",children:[o&&Object(f.jsxs)(L,{onClose:this.toggleModal,children:[Object(f.jsx)("button",{onClick:this.toggleModal,children:"X"}),Object(f.jsx)(k,{onSubmit:this.addNewTodo})]}),Object(f.jsx)("button",{className:"button",onClick:this.toggleModal,children:o?"Close modal":"Add new todo"}),Object(f.jsx)("header",{className:"App-header"}),Object(f.jsx)(O,{filter:this.state.filter,onChange:this.onChange}),Object(f.jsx)(g,{todos:s,onDeleteTodo:this.deleteTodo,toggleCompleted:this.toggleCompleted})]})]})}}]),n}(o.Component);c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.22297db7.chunk.js.map